---
title: Insertar elementos
sidebar:
  order: 6
---

import { Aside } from "@astrojs/starlight/components";

Cuando trabajamos con el DOM, a√±adir elementos din√°micamente es una tarea com√∫n. Aunque `.innerHTML` puede servir para esta tarea, no siempre es la opci√≥n m√°s eficiente ni segura. Existen m√©todos m√°s controlados que nos permiten insertar elementos sin alterar otros nodos o perder event listeners. ¬°Vamos a explorarlos! üîç

## üõ†Ô∏è M√©todos para Manipular Elementos

Aqu√≠ tienes una lista de m√©todos √∫tiles para insertar, eliminar o reemplazar elementos en el DOM:

| M√©todo                     | Descripci√≥n                                                                     |
| -------------------------- | ------------------------------------------------------------------------------- |
| `.appendChild(node)`       | A√±ade un nodo como hijo al final. Devuelve el nodo insertado.                   |
| `.removeChild(node)`       | Elimina un nodo hijo y lo devuelve.                                             |
| `.replaceChild(new, old)`  | Reemplaza un nodo hijo (`old`) por uno nuevo (`new`). Devuelve el nodo antiguo. |
| `.insertBefore(new, node)` | Inserta un nodo (`new`) antes de otro nodo (`node`).                            |
| `.insertBefore(new, null)` | Inserta un nodo despu√©s del √∫ltimo hijo (equivalente a `.appendChild`).         |

## ‚ú® `.appendChild()`: A√±adiendo Elementos

Este m√©todo permite agregar un nodo como hijo al final de todos los elementos hijos existentes.

Ejemplo pr√°ctico:

```js
const container = document.querySelector(".container");

// Crear un nuevo elemento <img>
const img = document.createElement("img");
img.src = "https://lenguajejs.com/assets/logo.svg";
img.alt = "Logo Javascript";

// A√±adirlo al contenedor
container.appendChild(img);
```

üîé Qu√© sucede aqu√≠:

1. Creamos un elemento `<img>` en memoria.
2. Configuramos sus atributos src y alt.
3. Lo a√±adimos al final del contenedor .container.

## üóëÔ∏è `.removeChild()`: Eliminando Elementos

Este m√©todo elimina un nodo hijo espec√≠fico de su elemento padre.

Ejemplo pr√°ctico:

```js
const container = document.querySelector(".container");
const secondItem = container.querySelector(".item:nth-child(2)");

// Eliminar el segundo elemento hijo
container.removeChild(secondItem);
```

üìå Nota: Aseg√∫rate de seleccionar el nodo correctamente antes de eliminarlo.

## üîÑ `.replaceChild()`: Reemplazando Elementos

Si necesitas sustituir un elemento existente por otro, este m√©todo es perfecto.

Ejemplo pr√°ctico:

```js
const container = document.querySelector(".container");
const secondItem = container.querySelector(".item:nth-child(2)");

// Crear un nuevo nodo
const newNode = document.createElement("div");
newNode.textContent = "DOS";

// Reemplazar el segundo elemento por el nuevo
container.replaceChild(newNode, secondItem);
```

üéØ Resultado: El nodo `secondItem` ser√° sustituido por el nuevo nodo `newNode`.

## üìç `.insertBefore()`: Insertando con Precisi√≥n

Cuando necesitas insertar un nodo en una posici√≥n espec√≠fica, `.insertBefore()` es tu aliado. Este m√©todo te permite a√±adir un nodo antes de otro nodo espec√≠fico.

Ejemplo pr√°ctico:

```js
const container = document.querySelector(".container");
const secondItem = container.querySelector(".item:nth-child(2)");

// Crear un nuevo nodo
const newNode = document.createElement("div");
newNode.textContent = "Nuevo elemento";

// Insertarlo antes del segundo √≠tem
container.insertBefore(newNode, secondItem);
```

üí° Dato: Si pasas `null` como segundo argumento, el nodo se a√±adir√° al final, comport√°ndose como `.appendChild()`.

---

<Aside type="tip" title="Consejo de seguridad">
Al trabajar con estos m√©todos, evita usar `.innerHTML` para insertar contenido din√°mico cuando el contenido proviene del usuario. Esto podr√≠a abrir la puerta a ataques de inyecci√≥n de c√≥digo malicioso. Usa m√©todos como los que vimos para manejar nodos de manera segura. üõ°Ô∏è

</Aside>
